"use strict";(self.webpackChunkinstagram_clone=self.webpackChunkinstagram_clone||[]).push([[702],{1702:function(e,t,n){n.r(t),n.d(t,{default:function(){return v}});var r=n(1413),s=n(5861),l=n(885),u=n(7757),i=n.n(u),c=n(4968),o=n(9329),a=n(6724),f=n(2791),m=n(1743),d=n(6871),x=n(83),p=n(6727),h=n(1273),g=n(4219),w=n(184),b=f.memo((function(e){var t=e.profileImage,n=e.username,r=e.fullName,s=e.userId,u=(0,m.C)((function(e){return e.signedUser.user})),i=(0,d.s0)(),c=(0,f.useState)(!1),o=(0,l.Z)(c,2),a=o[0],b=o[1],j=(0,p.Z)({userId:s}),v=j.addToFollowing,N=j.removeFromFollowing;return(0,w.jsxs)("div",{className:"flex w-full h-13 mb-1 px-2 justify-between items-center my-[4px]",children:[(0,w.jsxs)("button",{className:"w-full h-full py-[0.5px] gap-2 flex items-center",onClick:function(){return i(x.Z.DASHBOARD+s)},children:[(0,w.jsx)("img",{src:t.length?t:"/instagram-clone/images/default-avatar-image.jpg",className:"h-12 w-12 rounded-full object-cover"}),(0,w.jsxs)("div",{className:"flex flex-col items-start",children:[(0,w.jsx)("p",{className:"font-medium text-sm tracking-wide whitespace-nowrap",children:n}),(0,w.jsx)("p",{className:"text-gray-400 text-sm whitespace-nowrap",children:r}),(0,w.jsx)("p",{className:"text-gray-400 text-xs",children:"Popular"})]})]}),s!==u.userId&&u.userId.length?u.following.some((function(e){return e.userId===s}))?(0,w.jsx)("button",{className:"h-7 w-28 rounded border text-sm font-medium cursor-pointer",onClick:function(e){e.stopPropagation(),b(!0)},children:"Following"}):(0,w.jsx)("button",{className:"h-7 w-20 bg-blue-500 font-medium text-white rounded cursor-pointer text-sm tracking-wide",onClick:function(e){e.stopPropagation(),v()},children:"Follow"}):null,a?(0,w.jsx)(h.Z,{closeEvent:function(){return b(!1)},styles:"h-72 top-[26.5%]",children:(0,w.jsx)(g.Z,{areYouSureEvent:function(){b(!1),N()},profileImage:t,closeEvent:function(){return b(!1)},questionText:"Unfollow ".concat(n),buttonText:"Unfollow"})}):null]})})),j=f.memo((function(){var e=(0,m.C)((function(e){return e.signedUser.user})),t=(0,f.useState)([]),n=(0,l.Z)(t,2),u=n[0],d=n[1];(0,f.useEffect)((function(){var t=function(){var t=(0,s.Z)(i().mark((function t(){var n,r,s,l;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=(0,a.hJ)(o.db,"users"),r=(0,a.IO)(n,(0,a.ar)("username",">=","")),t.next=4,(0,a.PL)(r);case 4:s=t.sent.docs.map((function(e){return e.data()})),l=s.filter((function(t){return t.userId!==e.userId&&e.following.every((function(e){return e.userId!==t.userId}))})).sort((function(e,t){return.5-Math.random()})).slice(0,30),d(l);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[]);var x=(0,f.useMemo)((function(){return u.map((function(e){return(0,f.createElement)(b,(0,r.Z)((0,r.Z)({},e),{},{key:e.userId}))}))}),[u]);return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)("div",{className:"back flex flex-col items-center",children:[(0,w.jsx)(c.Z,{}),(0,w.jsxs)("div",{className:"min-h-[calc(100vh-60px)] w-full max-w-[550px] bg-blue-700 flex flex-col items-center back sm:pt-16 pb-16",children:[(0,w.jsx)("div",{className:"w-full flex justify-start font-medium h-8 flex items-center bg-white sm:bg-inherit px-4",children:"Suggested"}),(0,w.jsx)("div",{className:"w-full flex flex-col bg-white py-2 px-1",children:x})]})]}),(0,w.jsx)("div",{className:"flex w-full fixed bottom-3 justify-center back text-xs text-gray-300 font-medium back",children:"\xa9 2022 INSTAGRAM FROM META"})]})})),v=j}}]);
//# sourceMappingURL=702.15283a71.chunk.js.map