{"version":3,"file":"static/js/453.83f13553.chunk.js","mappings":"wQAGMA,EAAgB,mCAAG,WAAOC,GAAP,0FACEC,EAAAA,EAAAA,KAAQC,EAAAA,EAAAA,IAAWC,EAAAA,GAAI,UADzB,cACfC,EADe,OAEjBC,GAAuB,EAE3BD,EAASE,SAAQ,SAAAC,GACeA,EAAKC,OAAOC,eACrBT,IACfK,GAAc,MAPD,kBAYdA,GAZc,2CAAH,sDAetB,ICfMK,EAAmB,mCAAG,WAAOC,GAAP,0FACDV,EAAAA,EAAAA,KAAQC,EAAAA,EAAAA,IAAWC,EAAAA,GAAI,UADtB,cAClBC,EADkB,OAEpBC,GAAuB,EAE3BD,EAASE,SAAQ,SAAAC,GACcA,EAAKC,OAAOI,WACrBD,IACdN,GAAc,MAPE,kBAYjBA,GAZiB,2CAAH,sDAezB,ICZA,EANqB,SAACQ,GAClB,OAAOA,EAAIC,MACP,8J,SCwIR,EA5H4C,SAAC,GAAiD,IAA/CC,EAA8C,EAA9CA,iBAAkBC,EAA4B,EAA5BA,SAAUC,EAAkB,EAAlBA,YACvE,GAA0BC,EAAAA,EAAAA,UAAiB,IAA3C,eAAOC,EAAP,KAAcC,EAAd,KACA,GAAwCF,EAAAA,EAAAA,WAAkB,GAA1D,eAAOG,EAAP,KAAqBC,EAArB,KACMC,EAAYP,EAASQ,SAASC,OAAS,GACtCT,EAASU,mBAAmBD,OAAS,GACrCT,EAASJ,SAASa,OAAS,GAC3BT,EAASW,SAASF,OAAS,EAE5BG,EAAY,mCAAG,WAAOC,GAAP,wEACjBA,EAAMC,iBADW,SAGapB,EAAoBM,EAASJ,UAH1C,wCAKbQ,EAAS,kCALI,0CASqBrB,EAAiBiB,EAASU,oBAT/C,yCAWbN,EAAS,2CAXI,8BAeZW,EAAaf,EAASU,oBAfV,wBAgBbN,EAAS,gCAhBI,2BAoBjBL,GAAiB,SAAAiB,GAAO,OAAIA,EAAU,KApBrB,4CAAH,sDAwBZC,GAAqBC,EAAAA,EAAAA,cAAY,WACnCZ,GAAgB,SAAAU,GAAO,OAAKA,OAC7B,IAEH,OACI,iBAAKG,UAAU,0BAAf,WACI,iBAAKA,UAAU,oDAAf,WACI,gBAAKA,UAAU,6BAAf,UACI,gBACIC,IAAKC,8CACLF,UAAU,mBAGlB,cAAGA,UAAU,qDAAb,gEAEIhB,GAAQ,cAAGgB,UAAU,8CAAb,SAA4DhB,IACpE,MAEJ,kBACImB,OAAO,OACPH,UAAU,oCAFd,WAII,kBACI,aAAW,2CACXA,UAAU,+DACVI,KAAMvB,EAASU,mBAAmBc,SAAS,KAAO,QAAU,OAC5DC,YAAY,wBACZC,MAAO1B,EAASU,mBAChBiB,SAAU,SAACd,GAAD,OAAWZ,GAAY,SAAA2B,GAAQ,yBAAUA,GAAV,IAAoBlB,mBAAoBG,EAAMgB,OAAOH,eAElG,kBACI,aAAW,uBACXP,UAAU,+DACVI,KAAK,OACLE,YAAY,YACZC,MAAO1B,EAASW,SAChBgB,SAAU,SAACd,GAAD,OAAWZ,GAAY,SAAA2B,GAAQ,yBAAUA,GAAV,IAAoBjB,SAAUE,EAAMgB,OAAOH,eAExF,kBACI,aAAW,sBACXP,UAAU,+DACVI,KAAK,OACLE,YAAY,WACZC,MAAO1B,EAASJ,SAChB+B,SAAU,SAACd,GAAD,OAAWZ,GAAY,SAAA2B,GAAQ,yBAAUA,GAAV,IAAoBhC,SAAUiB,EAAMgB,OAAOH,eAExF,iBAAKP,UAAU,2DAAf,WACI,kBACI,aAAW,sBACXA,UAAU,4CACVI,KAAMlB,EAAe,OAAS,WAC9BoB,YAAY,WACZC,MAAO1B,EAASQ,SAChBmB,SAAU,SAACd,GAAD,OAAWZ,GAAY,SAAA2B,GAAQ,yBAAUA,GAAV,IAAoBpB,SAAUK,EAAMgB,OAAOH,YACpFI,aAAa,OAGgB,IAA7B9B,EAASQ,SAASC,SAClB,mBACIc,KAAK,SACLQ,QAASd,EACTE,UAAU,iDAHd,SAKKd,EAAe,OAAS,aAIrC,cAAGc,UAAU,+CAAb,iGAGA,mBACIa,SAAUzB,EACVgB,KAAK,SACLJ,UAAS,kEAA6DZ,GAAa,cACnFwB,QAASnB,EAJb,4BAUR,gBAAKO,UAAU,uDAAf,UACI,eAAGA,UAAU,UAAb,6BACqB,KACjB,SAAC,KAAD,CAAMc,GAAIC,EAAAA,EAAAA,MAAmBf,UAAU,0BAAvC,8BC/HPgB,EAAgB,CAAC,UAAW,WAAY,QAAS,QAAS,MAAO,OAAQ,OAAQ,SAAU,YAAa,UAAW,WAAY,YAE/HC,EAAuB,WAEhC,IADA,IAAIC,EAAS,GACLC,GAAI,IAAIC,MAAOC,cAAeF,EAAI,KAAMA,IAC5CD,EAAOI,KAAKH,GAGhB,OAAOD,GAGEK,EAAsB,SAACC,GAChC,IAAIN,EAAS,GAETO,EAAe,EACnB,OAAOT,EAAcU,QAAQF,EAAUG,QACnC,KAAK,EACL,KAAK,EACL,KAAK,EACL,KAAK,EACL,KAAK,EACL,KAAK,EACL,KAAK,GACDF,EAAe,GACf,MAEJ,KAAK,EACDA,EAAeD,EAAUI,KAAO,EAAI,GAAK,GACzC,MAEJ,QACIH,EAAe,GAKvB,IAAI,IAAIN,EAAI,EAAGA,GAAKM,EAAcN,IAC9BD,EAAOI,KAAKH,GAGhB,OAAOD,GCwDX,EAtF4C,SAAC,GAAuC,IAArCtC,EAAoC,EAApCA,iBAAkBE,EAAkB,EAAlBA,YAC7D,GAAkCC,EAAAA,EAAAA,UAAyB,CACvD8C,KAAK,IAAIT,MAAOU,UAChBH,MAAOX,GAAc,IAAII,MAAOW,YAChCH,MAAM,IAAIR,MAAOC,cAAgB,IAHrC,eAAOG,EAAP,KAAkBQ,EAAlB,KAMM5C,GAAY6C,EAAAA,EAAAA,UAAQ,oBAAM,IAAIb,MAAOC,cAAgBG,EAAUI,KAAO,KAAiB,CAACJ,IAExFU,GAAkBnC,EAAAA,EAAAA,cAAY,WAChCjB,GAAY,SAAA2B,GAAQ,yBAAUA,GAAV,IAAoBe,UAAAA,OACxC5C,GAAiB,SAAAiB,GAAO,OAAIA,EAAU,OACvC,CAAC2B,IAEEW,GAAkBpC,EAAAA,EAAAA,cAAY,WAChCnB,GAAiB,SAAAiB,GAAO,OAAIA,EAAU,OACvC,IAEH,OACI,iBAAKG,UAAU,0BAAf,WACI,iBAAKA,UAAU,yDAAf,WACI,gBAAKA,UAAU,6BAAf,UACI,gBACIC,IAAKC,mCACLF,UAAU,mBAGlB,cAAGA,UAAU,yBAAb,gCACA,cAAGA,UAAU,YAAb,2DACA,kBACIG,OAAO,OACPH,UAAU,yCAFd,WAII,iBAAKA,UAAU,uCAAf,WACI,mBACIA,UAAU,6BACVO,MAAOiB,EAAUG,MACjBnB,SAAU,SAACd,GAAD,OAAWsC,GAAa,SAAAvB,GAAQ,yBAAUA,GAAV,IAAoBkB,MAAOjC,EAAMgB,OAAOH,YAHtF,SAKKS,EAAcoB,KAAI,SAACT,EAAOU,GAAR,OAAkB,4BAAqBV,GAARU,SAEtD,mBACIrC,UAAU,6BACVO,MAAOiB,EAAUK,IACjBrB,SAAU,SAACd,GAAD,OAAWsC,GAAa,SAAAvB,GAAQ,yBAAUA,GAAV,IAAoBoB,IAAKS,OAAO5C,EAAMgB,OAAOH,aAH3F,SAKKgB,EAAoBC,GAAWY,KAAI,SAACP,EAAKQ,GAAN,OAAgB,4BAAqBR,GAARQ,SAErE,mBACIrC,UAAU,6BACVO,MAAOiB,EAAUI,KACjBpB,SAAU,SAACd,GAAD,OAAWsC,GAAa,SAAAvB,GAAQ,yBAAUA,GAAV,IAAoBmB,KAAMU,OAAO5C,EAAMgB,OAAOH,aAH5F,SAKKU,IAAuBmB,KAAI,SAACR,EAAMS,GAAP,OAAiB,4BAAqBT,GAARS,YAGlE,cAAGrC,UAAU,+CAAb,uDACA,cAAGA,UAAU,+CAAb,sGACA,mBACIa,SAAUzB,EACVgB,KAAK,SACLJ,UAAS,6DAAwDZ,GAAa,cAC9EwB,QAASsB,EAJb,sBASJ,mBACIlC,UAAU,qCACVY,QAASuB,EAFb,yBAOJ,gBAAKnC,UAAU,uDAAf,UACI,eAAGA,UAAU,UAAb,6BACqB,KACjB,SAAC,KAAD,CAAMc,GAAIC,EAAAA,EAAAA,MAAmBf,UAAU,0BAAvC,8B,uCCApB,EAzEyB,WACrB,IAAMuC,GAAWC,EAAAA,EAAAA,KACXC,GAAWC,EAAAA,EAAAA,MAEjB,GAA4C3D,EAAAA,EAAAA,WAAkB,GAA9D,eAAO4D,EAAP,KAAuBC,EAAvB,KACA,GAA0C7D,EAAAA,EAAAA,UAAiB,GAA3D,eAAO8D,EAAP,KAAsBjE,EAAtB,KACA,GAAgCG,EAAAA,EAAAA,UAAmB,CAC/CN,SAAU,GACVe,SAAU,GACVD,mBAAoB,GACpBF,SAAU,GACVmC,UAAW,KALf,eAAO3C,EAAP,KAAiBC,EAAjB,KAQMW,EAAY,mCAAG,gHAEMqD,EAAAA,EAAAA,IAA+BC,EAAAA,GAAMlE,EAASU,mBAAoBV,EAASQ,UAFjF,cAEPjB,EAFO,OAIP4E,EAAqB,CACvBC,OAAQ7E,EAAKA,KAAK8E,IAClBzE,SAAUI,EAASJ,SAAS0E,cAC5B3D,SAAUX,EAASW,SACnBlB,aAAcO,EAASU,mBAAmB4D,cAC1CC,UAAW,GACXC,UAAW,GACXC,aAAa,IAAIlC,MAAOmC,UACxB/B,UAAW3C,EAAS2C,UACpBgC,YAAa,GACbC,aAAc,GACdC,MAAO,GACPC,WAAY,IAhBH,UAmBPC,EAAAA,EAAAA,KAAOC,EAAAA,EAAAA,IAAI7F,EAAAA,GAAI,QAASI,EAAKA,KAAK8E,KAAMF,GAnBjC,OAqBbT,GAASuB,EAAAA,EAAAA,IAAcd,IACvBP,EAAS1B,EAAAA,EAAAA,WAtBI,kDAyBb6B,GAAkB,GAClBmB,QAAQC,IAAR,MA1Ba,0DAAH,sDA8BlBC,EAAAA,EAAAA,YAAU,WA9CO,IA+CTpB,GACApD,MAEL,CAACoD,IAgBJ,OACIF,GACI,SAAC,KAAD,CAAU7B,GAAIC,EAAAA,EAAAA,aACd,gBAAKf,UAAU,kEAAf,SAjBc,WAClB,OAAQ6C,GACJ,KAAK,EACD,OAAO,SAAC,EAAD,CAAiBjE,iBAAAA,EAAkBC,SAAAA,EAAUC,YAAAA,IAExD,KAAK,EACD,OAAO,SAAC,EAAD,CAAiBF,iBAAAA,EAAkBE,YAAAA,IAE9C,QACI,OAAO,MASNoF","sources":["firebase-setup/isEmailAvailable.ts","firebase-setup/isUsernameAvailable.ts","helpers/other/is-email-valid/isEmailValid.ts","pages/sign-up/components/SignUpOne.tsx","helpers/other/date-generation/dateGeneration.ts","pages/sign-up/components/SignUpTwo.tsx","pages/sign-up/SignUp.tsx"],"sourcesContent":["import { collection, getDocs } from \"firebase/firestore\";\r\nimport { db } from \"./firebaseConfig\";\r\n\r\nconst isEmailAvailable = async (email: string): Promise<boolean> => {\r\n    const allUsers = await getDocs(collection(db, \"users\"));\r\n    let isAvailable: boolean = true;\r\n\r\n    allUsers.forEach(user => {\r\n        const emailOfUser: string = user.data().emailAddress\r\n        if(emailOfUser === email){\r\n            isAvailable = false;\r\n            return;\r\n        }\r\n    })\r\n\r\n    return isAvailable;\r\n}\r\n\r\nexport default isEmailAvailable;","import { collection, getDocs } from \"firebase/firestore\";\r\nimport { db } from \"./firebaseConfig\";\r\n\r\nconst isUsernameAvailable = async (name: string): Promise<boolean> => {\r\n    const allUsers = await getDocs(collection(db, \"users\"));\r\n    let isAvailable: boolean = true;\r\n\r\n    allUsers.forEach(user => {\r\n        const nameOfUser: string = user.data().username\r\n        if(nameOfUser === name){\r\n            isAvailable = false;\r\n            return;\r\n        }\r\n    })\r\n\r\n    return isAvailable;\r\n}\r\n\r\nexport default isUsernameAvailable;","const isEmailValid = (str: string) => {\r\n    return str.match(\r\n        /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\r\n    )\r\n}\r\n\r\nexport default isEmailValid","import React, { useCallback, useState } from 'react';\r\nimport { Link } from \"react-router-dom\";\r\nimport RoutesTypes from \"constants/routes-types\"\r\nimport isEmailAvailable from 'firebase-setup/isEmailAvailable';\r\nimport isUsernameAvailable from \"firebase-setup/isUsernameAvailable\";\r\nimport UserData from \"types/userDataType\";\r\nimport isEmailValid from 'helpers/other/is-email-valid/isEmailValid';\r\n\r\ntype SignUpOneProps = {\r\n    setCurrentPageId: React.Dispatch<React.SetStateAction<number>>\r\n    userData: UserData,\r\n    setUserData: React.Dispatch<React.SetStateAction<UserData>>\r\n}\r\n\r\nconst SignUpOne: React.FC<SignUpOneProps> = ({ setCurrentPageId, userData, setUserData }) => {\r\n    const [error, setError] = useState<string>(\"\");\r\n    const [showPassword, setShowPassword] = useState<boolean>(false);\r\n    const isInvalid = userData.password.length < 6\r\n        || userData.emailOrPhoneNumber.length < 6\r\n        || userData.username.length < 6\r\n        || userData.fullName.length < 6\r\n\r\n    const handleSignUp = async (event: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\r\n        event.preventDefault();\r\n\r\n        const isNameAvailable = await isUsernameAvailable(userData.username);\r\n        if (!isNameAvailable) {\r\n            setError(\"This username is not available\");\r\n            return;\r\n        }\r\n\r\n        const isEmailAddressAvailable = await isEmailAvailable(userData.emailOrPhoneNumber);\r\n        if (!isEmailAddressAvailable) {\r\n            setError(\"Another account is using the same email\");\r\n            return;\r\n        }\r\n\r\n        if (!isEmailValid(userData.emailOrPhoneNumber)) {\r\n            setError(\"Enter a valid email address.\");\r\n            return;\r\n        }\r\n\r\n        setCurrentPageId(prevVal => prevVal + 1)\r\n    }\r\n\r\n\r\n    const toggleShowPassword = useCallback(() => {\r\n        setShowPassword(prevVal => !prevVal)\r\n    }, [])\r\n\r\n    return (\r\n        <div className=\"w-4/5 sm:w-1/2 lg:w-1/3\">\r\n            <div className=\"flex flex-col items-center w-full border bg-white\">\r\n                <div className=\"flex justify-center w-full\">\r\n                    <img\r\n                        src={process.env.PUBLIC_URL + \"/images/instagram-logo.webp\"}\r\n                        className=\"w-6/12 mt-6\"\r\n                    />\r\n                </div>\r\n                <p className=\"w-4/5 pb-4 text-center text-gray-400 font-semibold\">Sign up to see photos and videos from your friends</p>\r\n                {\r\n                    error ? <p className=\"mb-4 w-4/5 text-sm text-red-500 text-center\">{error}</p>:\r\n                    null\r\n                }\r\n                <form\r\n                    method=\"POST\"\r\n                    className=\"flex flex-col items-center w-full\"\r\n                >\r\n                    <input\r\n                        aria-label=\"Enter your email address or phone number\"\r\n                        className=\"text-sm w-4/5 py-5 px-4 h-2 border rounded mb-2 bg-[#fcfafa]\"\r\n                        type={userData.emailOrPhoneNumber.includes(\"@\") ? \"email\" : \"text\"}\r\n                        placeholder=\"Mobile phone or email\"\r\n                        value={userData.emailOrPhoneNumber}\r\n                        onChange={(event) => setUserData(prevData => ({ ...prevData, emailOrPhoneNumber: event.target.value }))}\r\n                    />\r\n                    <input\r\n                        aria-label=\"Enter your full name\"\r\n                        className=\"text-sm w-4/5 py-5 px-4 h-2 border rounded mb-2 bg-[#fcfafa]\"\r\n                        type=\"text\"\r\n                        placeholder=\"Full name\"\r\n                        value={userData.fullName}\r\n                        onChange={(event) => setUserData(prevData => ({ ...prevData, fullName: event.target.value }))}\r\n                    />\r\n                    <input\r\n                        aria-label=\"Enter your username\"\r\n                        className=\"text-sm w-4/5 py-5 px-4 h-2 border rounded mb-2 bg-[#fcfafa]\"\r\n                        type=\"text\"\r\n                        placeholder=\"Username\"\r\n                        value={userData.username}\r\n                        onChange={(event) => setUserData(prevData => ({ ...prevData, username: event.target.value }))}\r\n                    />\r\n                    <div className=\"w-4/5 border rounded flex items-center bg-[#fcfafa] mb-4\">\r\n                        <input\r\n                            aria-label=\"Enter your password\"\r\n                            className=\"text-sm w-full py-5 px-4 h-2 bg-[#fcfafa]\"\r\n                            type={showPassword ? \"text\" : \"password\"}\r\n                            placeholder=\"Password\"\r\n                            value={userData.password}\r\n                            onChange={(event) => setUserData(prevData => ({ ...prevData, password: event.target.value }))}\r\n                            autoComplete=\"on\"\r\n                        />\r\n                        {\r\n                            userData.password.length !== 0 &&\r\n                            <button\r\n                                type=\"button\"\r\n                                onClick={toggleShowPassword}\r\n                                className=\"w-1/5 h-1/2 text-sm bg-red font-medium rounded\"\r\n                            >\r\n                                {showPassword ? \"Hide\" : \"Show\"}\r\n                            </button>\r\n                        }\r\n                    </div>\r\n                    <p className=\"w-4/5 text-center text-gray-400 text-sm mb-4\">\r\n                        People who use our service may have uploaded your contact information to Instagram\r\n                    </p>\r\n                    <button\r\n                        disabled={isInvalid}\r\n                        type=\"button\"\r\n                        className={`bg-blue-500 w-4/5 text-white rounded h-8 mb-8 font-bold ${isInvalid && \"opacity-50\"}`}\r\n                        onClick={handleSignUp}\r\n                    >\r\n                        Sign up\r\n                    </button>\r\n                </form>\r\n            </div>\r\n            <div className=\"flex w-full border bg-white mt-4 py-2 justify-center\">\r\n                <p className=\"text-sm\">\r\n                    Have an account?{' '}\r\n                    <Link to={RoutesTypes.LOGIN} className=\"font-bold text-blue-400\">\r\n                        Sign in\r\n                    </Link>\r\n                </p>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SignUpOne;","import BirthdateState from \"types/birthdateType\";\r\n\r\nexport const arrayOfMonths = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\r\n    \r\nexport const generateArrayOfYears = () => {\r\n    let result = [];\r\n    for(let i = new Date().getFullYear(); i > 1919; i--){\r\n        result.push(i);\r\n    }\r\n\r\n    return result;\r\n}\r\n\r\nexport const generateArrayOfDays = (birthdate: BirthdateState) => {\r\n    let result = [];\r\n\r\n    let amountOfDays = 0;\r\n    switch(arrayOfMonths.indexOf(birthdate.month)){\r\n        case 0:\r\n        case 2: \r\n        case 4: \r\n        case 6: \r\n        case 7: \r\n        case 9: \r\n        case 11: {\r\n            amountOfDays = 31;\r\n            break;\r\n        }\r\n        case 1: {\r\n            amountOfDays = birthdate.year % 4 ? 28 : 29;\r\n            break;\r\n        }\r\n        default: {\r\n            amountOfDays = 30;\r\n            break;\r\n        }\r\n    }\r\n\r\n    for(let i = 1; i <= amountOfDays; i++){\r\n        result.push(i);\r\n    }\r\n\r\n    return result;\r\n}","import React, { useCallback, useMemo, useState } from 'react';\r\nimport UserData from \"types/userDataType\";\r\nimport BirthdateState from \"types/birthdateType\";\r\nimport { Link } from \"react-router-dom\";\r\nimport RoutesTypes from \"constants/routes-types\";\r\nimport { arrayOfMonths, generateArrayOfDays, generateArrayOfYears } from 'helpers/other/date-generation/dateGeneration';\r\n\r\ntype SignUpTwoProps = {\r\n    setCurrentPageId: React.Dispatch<React.SetStateAction<number>>\r\n    setUserData: React.Dispatch<React.SetStateAction<UserData>>\r\n}\r\n\r\nconst SignUpTwo: React.FC<SignUpTwoProps> = ({ setCurrentPageId, setUserData }) => {\r\n    const [birthdate, setBirthdate] = useState<BirthdateState>({\r\n        day: new Date().getDate() ,\r\n        month: arrayOfMonths[new Date().getMonth()],\r\n        year: new Date().getFullYear() - 1,\r\n    })\r\n\r\n    const isInvalid = useMemo(() => new Date().getFullYear() - birthdate.year > 5 ? false: true, [birthdate])\r\n\r\n    const handleNextClick = useCallback(() => {\r\n        setUserData(prevData => ({ ...prevData, birthdate }))\r\n        setCurrentPageId(prevVal => prevVal + 1)\r\n    }, [birthdate])\r\n\r\n    const incrementPageId = useCallback(() => {\r\n        setCurrentPageId(prevVal => prevVal - 1)\r\n    }, [])\r\n\r\n    return (\r\n        <div className=\"w-4/5 sm:w-3/5 lg:w-1/3\">\r\n            <div className=\"flex flex-col items-center w-full border bg-white px-2\">\r\n                <div className=\"flex justify-center w-full\">\r\n                    <img\r\n                        src={process.env.PUBLIC_URL + \"/images/cake.jpg\"}\r\n                        className=\"w-5/12 mt-6\"\r\n                    />\r\n                </div>\r\n                <p className=\"text-black font-medium\">Add Your Birthday</p>\r\n                <p className=\"mt-4 mb-3\">This won't be a part of your public profile.</p>\r\n                <form\r\n                    method=\"POST\"\r\n                    className=\"flex flex-col items-center w-full mb-4\"\r\n                >\r\n                    <div className=\"w-3/4 flex justify-center gap-2 mb-1\">\r\n                        <select\r\n                            className=\"border rounded text-sm p-1\"\r\n                            value={birthdate.month}\r\n                            onChange={(event) => setBirthdate(prevData => ({ ...prevData, month: event.target.value }))}\r\n                        >\r\n                            {arrayOfMonths.map((month, index) => <option key={index}>{month}</option>)}\r\n                        </select>\r\n                        <select\r\n                            className=\"border rounded text-sm p-1\"\r\n                            value={birthdate.day}\r\n                            onChange={(event) => setBirthdate(prevData => ({ ...prevData, day: Number(event.target.value) }))}\r\n                        >\r\n                            {generateArrayOfDays(birthdate).map((day, index) => <option key={index}>{day}</option>)}\r\n                        </select>\r\n                        <select\r\n                            className=\"border rounded text-sm p-1\"\r\n                            value={birthdate.year}\r\n                            onChange={(event) => setBirthdate(prevData => ({ ...prevData, year: Number(event.target.value) }))}\r\n                        >\r\n                            {generateArrayOfYears().map((year, index) => <option key={index}>{year}</option>)}\r\n                        </select>\r\n                    </div>\r\n                    <p className=\"w-4/5 text-center text-gray-400 text-sm mb-4\">You need to enter the date you were born</p>\r\n                    <p className=\"w-4/5 text-center text-gray-400 text-sm mb-4\">Use your own birthday, even if this account is for a business, a pet, or something else</p>\r\n                    <button\r\n                        disabled={isInvalid}\r\n                        type=\"button\"\r\n                        className={`bg-blue-500 w-3/5 text-white rounded h-8 font-bold ${isInvalid && \"opacity-50\"}`}\r\n                        onClick={handleNextClick}\r\n                    >\r\n                        Next\r\n                    </button>\r\n                </form>\r\n                <button \r\n                    className=\"w-1/5 mb-6 font-bold text-blue-400\"\r\n                    onClick={incrementPageId}\r\n                >\r\n                    Go Back\r\n                </button>\r\n            </div>\r\n            <div className=\"flex w-full border bg-white mt-4 py-2 justify-center\">\r\n                <p className=\"text-sm\">\r\n                    Have an account?{' '}\r\n                    <Link to={RoutesTypes.LOGIN} className=\"font-bold text-blue-400\">\r\n                        Sign in\r\n                    </Link>\r\n                </p>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SignUpTwo;","import React, { useEffect, useState } from \"react\";\r\nimport SignUpOne from \"pages/sign-up/components/SignUpOne\";\r\nimport SignUpTwo from \"pages/sign-up/components/SignUpTwo\";\r\nimport BirthdateState from \"types/birthdateType\";\r\nimport UserData from \"types/userDataType\";\r\nimport { createUserWithEmailAndPassword } from \"firebase/auth\";\r\nimport { auth, db } from \"firebase-setup/firebaseConfig\";\r\nimport { doc, setDoc } from \"firebase/firestore\"; \r\nimport { useAppDispatch } from \"redux-setup/hooks\";\r\nimport { setSignedUser } from \"redux-setup/features/signed-user/signedUser\";\r\nimport UserState from \"types/userStateType\";\r\nimport { Navigate, useNavigate } from \"react-router-dom\";\r\nimport RoutesTypes from \"constants/routes-types\";\r\n\r\nconst LAST_PAGE_ID = 2;\r\n\r\nconst SignUp: React.FC = () => {\r\n    const dispatch = useAppDispatch();\r\n    const navigate = useNavigate();\r\n\r\n    const [shouldRedirect, setShouldRedirect] = useState<boolean>(false);\r\n    const [currentPageId, setCurrentPageId] = useState<number>(0)\r\n    const [userData, setUserData] = useState<UserData>({\r\n        username: \"\",\r\n        fullName: \"\",\r\n        emailOrPhoneNumber: \"\",\r\n        password: \"\",\r\n        birthdate: {} as BirthdateState,\r\n    })\r\n\r\n    const handleSignUp = async () => {\r\n        try {\r\n            const user = await createUserWithEmailAndPassword(auth, userData.emailOrPhoneNumber, userData.password);\r\n\r\n            const userDoc: UserState = {\r\n                userId: user.user.uid,\r\n                username: userData.username.toLowerCase(),\r\n                fullName: userData.fullName,\r\n                emailAddress: userData.emailOrPhoneNumber.toLowerCase(),\r\n                following: [],\r\n                followers: [],\r\n                dateCreated: new Date().getTime(),\r\n                birthdate: userData.birthdate,\r\n                phoneNumber: \"\",\r\n                profileImage: \"\",\r\n                posts: [],\r\n                savedPosts: [],\r\n            }\r\n            \r\n            await setDoc(doc(db, \"users\", user.user.uid), userDoc)\r\n\r\n            dispatch(setSignedUser(userDoc));\r\n            navigate(RoutesTypes.DASHBOARD);\r\n        }\r\n        catch (error: any) {\r\n            setShouldRedirect(true);\r\n            console.log(error);\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (currentPageId === LAST_PAGE_ID) {\r\n            handleSignUp();\r\n        }\r\n    }, [currentPageId])\r\n\r\n    const generatePages = () => {\r\n        switch (currentPageId) {\r\n            case 0: {\r\n                return <SignUpOne {...{ setCurrentPageId, userData, setUserData }} />\r\n            }\r\n            case 1: {\r\n                return <SignUpTwo {...{ setCurrentPageId, setUserData }} />\r\n            }\r\n            default: {\r\n                return null;\r\n            }\r\n        }\r\n    }\r\n\r\n    return (\r\n        shouldRedirect ?\r\n            <Navigate to={RoutesTypes.NOT_FOUND} /> :\r\n            <div className=\"h-screen w-screen flex justify-center items-center bg-[#FAFAFA]\">\r\n                {generatePages()}\r\n            </div>\r\n    )\r\n}\r\n\r\nexport default SignUp;"],"names":["isEmailAvailable","email","getDocs","collection","db","allUsers","isAvailable","forEach","user","data","emailAddress","isUsernameAvailable","name","username","str","match","setCurrentPageId","userData","setUserData","useState","error","setError","showPassword","setShowPassword","isInvalid","password","length","emailOrPhoneNumber","fullName","handleSignUp","event","preventDefault","isEmailValid","prevVal","toggleShowPassword","useCallback","className","src","process","method","type","includes","placeholder","value","onChange","prevData","target","autoComplete","onClick","disabled","to","RoutesTypes","arrayOfMonths","generateArrayOfYears","result","i","Date","getFullYear","push","generateArrayOfDays","birthdate","amountOfDays","indexOf","month","year","day","getDate","getMonth","setBirthdate","useMemo","handleNextClick","incrementPageId","map","index","Number","dispatch","useAppDispatch","navigate","useNavigate","shouldRedirect","setShouldRedirect","currentPageId","createUserWithEmailAndPassword","auth","userDoc","userId","uid","toLowerCase","following","followers","dateCreated","getTime","phoneNumber","profileImage","posts","savedPosts","setDoc","doc","setSignedUser","console","log","useEffect","generatePages"],"sourceRoot":""}